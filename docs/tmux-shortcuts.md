# tmux 단축키 가이드

> 프리픽스 키: **`Ctrl+Space`**  
> 모든 프리픽스 기반 명령은 `Ctrl+Space`를 먼저 누른 후 해당 키를 누릅니다.

## 🚀 빠른 단축키 (프리픽스 불필요)

### 패널 이동
- **`Alt+h`** - 왼쪽 패널로 이동
- **`Alt+j`** - 아래 패널로 이동
- **`Alt+k`** - 위 패널로 이동
- **`Alt+l`** - 오른쪽 패널로 이동

### 패널 위치 교체
- **`Alt+Shift+h`** - 현재 패널을 왼쪽 패널과 교체
- **`Alt+Shift+j`** - 현재 패널을 아래 패널과 교체
- **`Alt+Shift+k`** - 현재 패널을 위 패널과 교체
- **`Alt+Shift+l`** - 현재 패널을 오른쪽 패널과 교체

### 창 분할
- **`Alt+\`** - 수직 분할 (좌우로)
- **`Alt+-`** - 수평 분할 (위아래로)

### 창 전환
- **`Alt+1`** - 1번 창으로 이동
- **`Alt+2`** - 2번 창으로 이동
- **`Alt+3`** - 3번 창으로 이동
- **`Alt+4`** - 4번 창으로 이동
- **`Alt+5`** - 5번 창으로 이동

## 📋 세션 관리

- **`prefix + s`** - 세션 목록 보기 및 전환
- **`prefix + $`** - 현재 세션 이름 변경
- **`prefix + d`** - 세션에서 분리 (detach)
- **`prefix + (`** - 이전 세션으로 전환
- **`prefix + )`** - 다음 세션으로 전환

### tmux 플러그인 세션 관리
- **`prefix + Ctrl+s`** - 세션 저장 (resurrect)
- **`prefix + Ctrl+r`** - 세션 복원 (resurrect)

## 🪟 창(Window) 관리

### 창 생성 및 이동
- **`prefix + c`** - 새 창 생성 (현재 디렉토리 유지)
- **`prefix + n`** - 다음 창으로 이동
- **`prefix + p`** - 이전 창으로 이동
- **`prefix + 1~5`** - 1~5번 창으로 직접 이동
- **`prefix + w`** - 창 목록 보기 및 선택
- **`prefix + l`** - 마지막 활성 창으로 전환

### 창 관리
- **`prefix + ,`** - 현재 창 이름 변경
- **`prefix + &`** - 현재 창 닫기 (확인 필요)
- **`prefix + .`** - 창 번호 변경
- **`prefix + f`** - 창 찾기

## 🔲 패널(Pane) 관리

### 패널 분할
- **`prefix + |`** - 수직 분할 (좌우로)
- **`prefix + -`** - 수평 분할 (위아래로)
- **`prefix + %`** - 수직 분할 (기본 tmux 단축키)
- **`prefix + "`** - 수평 분할 (기본 tmux 단축키)

### 패널 이동 (프리픽스 필요)
- **`prefix + h`** - 왼쪽 패널로 이동
- **`prefix + j`** - 아래 패널로 이동
- **`prefix + k`** - 위 패널로 이동
- **`prefix + l`** - 오른쪽 패널로 이동
- **`prefix + ←/↓/↑/→`** - 방향키로 패널 이동
- **`prefix + o`** - 다음 패널로 순환 이동
- **`prefix + ;`** - 마지막 활성 패널로 전환

### 패널 크기 조절
- **`prefix + H`** - 왼쪽으로 5칸 축소
- **`prefix + J`** - 아래로 5칸 확장
- **`prefix + K`** - 위로 5칸 확장
- **`prefix + L`** - 오른쪽으로 5칸 확장
- **`prefix + Shift+←/↓/↑/→`** - 방향키로 크기 조절 (5칸씩)

### 패널 위치 변경
- **`prefix + {`** - 이전 패널과 위치 교체
- **`prefix + }`** - 다음 패널과 위치 교체
- **`prefix + <`** - 이전 패널과 교체
- **`prefix + >`** - 다음 패널과 교체
- **`prefix + Ctrl+o`** - 모든 패널 시계방향 회전
- **`prefix + Alt+o`** - 모든 패널 반시계방향 회전

### 패널 관리
- **`prefix + !`** - 현재 패널을 새 창으로 분리
- **`prefix + x`** - 현재 패널 닫기 (확인 필요)
- **`prefix + z`** - 현재 패널 확대/축소 토글
- **`prefix + q`** - 패널 번호 표시
- **`prefix + Space`** - 다음 레이아웃으로 순환

## 📐 레이아웃

- **`prefix + m`** - 메인 수평 레이아웃 (하단 패널이 전체 너비)
- **`prefix + M`** - 메인 수직 레이아웃 (우측 패널이 전체 높이)
- **`prefix + =`** - 모든 패널 동일 크기 (tiled)
- **`prefix + Space`** - 다음 레이아웃으로 순환
- **`prefix + r`** - 패널 배치 회전 (상/하 ↔ 좌/우)
- **`prefix + Alt+1`** - even-horizontal 레이아웃
- **`prefix + Alt+2`** - even-vertical 레이아웃
- **`prefix + Alt+3`** - main-horizontal 레이아웃
- **`prefix + Alt+4`** - main-vertical 레이아웃
- **`prefix + Alt+5`** - tiled 레이아웃

## 📋 복사 모드 (Vi 스타일)

### 복사 모드 진입/종료
- **`prefix + [`** - 복사 모드 진입
- **`q`** - 복사 모드 종료
- **`Esc`** - 복사 모드 종료

### 복사 모드 내 이동
- **`h/j/k/l`** - 좌/하/상/우 이동
- **`w/b`** - 다음/이전 단어
- **`f/F`** - 다음/이전 문자 찾기
- **`0/$`** - 줄 시작/끝
- **`g/G`** - 문서 시작/끝
- **`Ctrl+f/b`** - 페이지 다운/업
- **`Ctrl+d/u`** - 반 페이지 다운/업

### 선택 및 복사
- **`v`** - 선택 시작
- **`V`** - 줄 선택 모드
- **`r`** - 사각형 선택 모드 토글
- **`y`** - 선택 영역 복사 (클립보드로)
- **`Enter`** - 선택 영역 복사하고 종료
- **마우스 드래그** - 자동으로 클립보드에 복사

### 붙여넣기
- **`prefix + ]`** - 버퍼 내용 붙여넣기

## 🔧 기타 명령

### 시스템
- **`prefix + ?`** - 모든 키 바인딩 목록 표시
- **`prefix + :`** - 명령 프롬프트
- **`prefix + t`** - 시계 표시
- **`prefix + ~`** - tmux 메시지 로그 표시
- **`prefix + i`** - 현재 창/패널 정보 표시

### 버퍼
- **`prefix + #`** - 버퍼 목록 표시
- **`prefix + =`** - 버퍼 선택하여 붙여넣기
- **`prefix + -`** - 가장 최근 버퍼 삭제

## 🖱️ 마우스 기능

- **마우스 클릭** - 패널 선택
- **마우스 드래그** - 텍스트 선택 및 복사
- **마우스 휠** - 스크롤 (복사 모드 자동 진입)
- **패널 경계 드래그** - 패널 크기 조절
- **상태바 창 클릭** - 해당 창으로 전환
- **우클릭** - 컨텍스트 메뉴 (일부 터미널)

## 💡 WezTerm 통합

- **`Cmd+t`** - `tms` 명령 실행 (tmux 세션 선택기)
  - fzf 기반 세션 선택
  - 새 세션 생성 옵션
  - 기존 세션 전환

## ⚙️ 설정 정보

### 현재 설정
- **프리픽스 키**: `Ctrl+Space`
- **인덱스 시작**: 1 (창과 패널 모두)
- **마우스**: 활성화
- **히스토리 제한**: 20000 줄
- **복사 모드**: vi 스타일
- **클립보드**: macOS pbcopy 통합

### 색상 테마
- **테마**: Dracula 기반
- **활성 패널 테두리**: 밝은 초록색
- **비활성 패널 테두리**: 검정색 (투명)
- **활성 창 배경**: #282a36
- **비활성 창 배경**: #1e1f29

### 플러그인
- **TPM**: tmux 플러그인 매니저
- **tmux-sensible**: 더 나은 기본 설정
- **tmux-resurrect**: 세션 저장/복원
- **tmux-continuum**: 15분마다 자동 저장, 재부팅 시 자동 복원

## 📝 팁

1. **반복 가능한 키**: 크기 조절 명령(`H/J/K/L`)은 프리픽스를 한 번만 누르고 연속으로 사용 가능
2. **현재 디렉토리 유지**: 새 패널/창 생성 시 현재 작업 디렉토리가 유지됨
3. **세션 자동 저장**: continuum 플러그인이 15분마다 자동으로 세션 저장
4. **빠른 이동**: Alt 키 조합으로 프리픽스 없이 빠른 패널/창 이동 가능
5. **클립보드 통합**: 복사한 내용이 자동으로 macOS 클립보드에 저장됨

## 🚨 문제 해결

### TPM 플러그인이 작동하지 않을 때
```bash
# TPM 재설치
rm -rf ~/.tmux/plugins/tpm
git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm

# 플러그인 설치
prefix + I  # (대문자 I)
```

### 설정 다시 로드
```bash
# 터미널에서
tmux source-file ~/.tmux.conf

# tmux 내에서
prefix + :source-file ~/.tmux.conf
```

### 세션 완전 초기화
```bash
tmux kill-server
tmux new-session
```